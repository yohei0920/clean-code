## 教材

プログラミング中級者になりたい人のためのクリーンコード入門 | Udemy
https://www.udemy.com/course/clean-code-tutorial/?couponCode=BFCPSALE24JP


## 学んだこと

### コメントはなるべく書かない

- そもそもコメントはコードを実装することにおいて、必要のないもの
- また、コメントがメンテナンスされているとは限らない
- コミットメッセージなどでも代用可能
- 冗長になる可能性

### メリット

- 影響調査を行う工数の削減
- コードを読み物として読めること
- コードが整理できる
- 意識しなくても綺麗にコードが書ける
- コードレビューの基準を得る

### クリーンコードが優先されないケース

- パフォーマンスが優先されるとき
- 速度重視の開発
    - 綺麗に書くより、早くかく

### 命名規則

- 美しいコードは命名規則がしっかりしている
- コードの読み手は関数の中まではみたくない
    - メソッド名で推察できるようにしてほしい
    - レビュアー時も関数の中まで見る必要はないということだ
- 特にメタプロはあまり現場で作る機会はそうないので抽象ではなく具象で書く

### いい変数名

- 長すぎず、短すぎない
- 変数が保持するものを正確に説明する
- 曖昧でない
- 単語は2、3つくらいがわかりやすい

### 真偽値の命名規則
- isを使うことで疑問文を明示することができる
- 肯定文が伝わりやすい
- 過去分詞系を使うとわかりやすい

### 関数の命名規則
- 長くなりそうなときは省略形で表してもいい(むしろ長くなるのを避けれる)
  - minutes -> mins
- getは値を取得するときにprefixにつける
- setは値を設定するときにprefixにつける
- ここでも抽象ではなく具象を意識する

### 変数名
- 意味があり、発音可能な変数名
  - 多くの人に意味が伝わること
  - チームコミュニケーションにも影響する
- 意味が似ていて違う単語が使われている場合、本当に違う単語でいいか、同じ単語で書けないかを考える(できるなら統一する)
  - sumとtotalやremoveとdeleteとか
  - 単語が違うと読み手は違う意味と思って読まなければいけなくなる
- 開発業界などで共通な場合は省略した方がいい場合もある
  - a11y(accessibility)、i18n(internationalization)、customer(cstm)

### コメントはコードで表せないときに書く
- マジックナンバーとかで特別な意味を持つ時とか
- 緊急時にやむなくそうせざるを得なかった時とか
- 後からトレーサビリティが取れなくなって困る時とか

### マジックナンバー・マジックキャラクターを避ける
- マジックナンバーはベタ書きの数字、マジックキャラクターはベタ書きの文字列のこと
- それらは避けて意味のある定数にする

### 関数定義
- 1つの関数で1つの機能を実装し、小さく作る
- DRY原則
- 関数定義の順番も、コードを読み物としたときに読みやすいかを意識できるとよりよくなりそう

### DRYを適用しない方がいいケース
- 目的が違うとき
  - 関数化する前にその関数の目的を考え、DRY対象のコードがその目的に合っているか
- 共通化したときにcaseやifが増える時も、DRY化しないほうがいいサインかもしれない
- 引数が多くなった時も、DRY化しない方がいいか、引数をオブジェクト化できないか考える
  - 目安は2-3個が妥当
- 必要に応じてデフォルト引数も使う
- フラグはできるだけわたさない
  - 本番運用していて、至急止めないといけないとか、一時的に対応する場面以外は他の方法がないか考えた方が良さそう(コメント書くのも難しいイメージ)